{"version":3,"sources":["./built/ethereum-user-connector.js"],"names":["e","t","n","r","s","o","u","a","require","i","f","Error","code","l","exports","call","length","1","module","_this","this","Drupal","behaviors","ethereumUserConnectorAddressStatus","attach","elm","document","getElementById","getAttribute","setAttribute","[object Object]","statusField","addressField","addEventListener","event","addressChanged","previousAddress","val","status","currentAddress","JSON","parse","stringify","dataMap","cssMap","self","input","target","value","trim","toLocaleLowerCase","validity","valid","classList","remove","setAddress","add","address","isValidated","updateStatusField","textContent","parseInt","forEach","className","indexOf","style","display","2","theme","message","content","type","msg","charAt","toUpperCase","slice","window","console","log","web3Runner","runWhenReady","requireAccount","networkId","drupalSettings","ethereum","network","id","run","web3","account","ethereum_user_connector","toLowerCase","cnf","ethereumUserConnector","authHash","button","getElementsByTagName","validateEthereumUser","contract","eth","Contract","contracts","register_drupal","jsonInterface","validateContract","hasVerifiedAddress","getAuthHash","contractVerified","methods","contractExists","contractAddress","innerHTML","url","updateAccountUrl","Date","getTime","response","fetch","method","credentials","ok","json","hash","preventDefault","userRejected","newUser","send","from","on","transactionHash","receipt","verifySubmission","error","err","includes","verificationUrl","result","resultType","success","location","reload"],"mappings":"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"}