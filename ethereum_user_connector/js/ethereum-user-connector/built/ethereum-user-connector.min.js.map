{"version":3,"sources":["./built/ethereum-user-connector.js"],"names":["r","e","n","t","o","i","f","c","require","u","a","Error","code","p","exports","call","length","1","module","_this","this","Drupal","behaviors","ethereumUserConnectorAddressStatus","attach","elm","document","getElementById","getAttribute","setAttribute","[object Object]","statusField","addressField","addEventListener","event","addressChanged","previousAddress","val","status","currentAddress","JSON","parse","stringify","dataMap","cssMap","self","input","target","value","trim","toLocaleLowerCase","validity","valid","classList","remove","setAddress","add","address","isValidated","updateStatusField","textContent","parseInt","forEach","className","indexOf","style","display","2","theme","message","content","type","msg","charAt","toUpperCase","slice","window","web3Runner","runWhenReady","requireAccount","networkId","drupalSettings","ethereum","network","id","run","web3","account","ethereum_user_connector","toLowerCase","cnf","ethereumUserConnector","processTxUrl","authHash","button","getElementsByTagName","validateEthereumUser","contract","eth","Contract","contracts","register_drupal","jsonInterface","validateContract","hasVerifiedAddress","getAuthHash","preventDefault","userRejected","previousTx","checkPreviousSubmission","verifySubmission","methods","newUser","send","from","on","hash","innerHTML","transactionHash","receipt","err","includes","console","error","contractVerified","contractExists","contractAddress","url","updateAccountUrl","Date","getTime","response","fetch","method","credentials","ok","json","ret","accountCreatedEvents","getPastLogs","fromBlock","topics","utils","sha3","tx","data","txHash","result","resultType","AccountCreated"],"mappings":"CAAA,WAA+b,OAAnb,SAASA,EAAEC,EAAEC,EAAEC,GAAG,SAASC,EAAEC,EAAEC,GAAG,IAAIJ,EAAEG,GAAG,CAAC,IAAIJ,EAAEI,GAAG,CAAC,IAAIE,EAAE,mBAAmBC,SAASA,QAAQ,IAAIF,GAAGC,EAAE,OAAOA,EAAEF,GAAE,GAAI,GAAGI,EAAE,OAAOA,EAAEJ,GAAE,GAAI,IAAIK,EAAE,IAAIC,MAAM,uBAAuBN,EAAE,KAAK,MAAMK,EAAEE,KAAK,mBAAmBF,EAAE,IAAIG,EAAEX,EAAEG,IAAIS,YAAYb,EAAEI,GAAG,GAAGU,KAAKF,EAAEC,QAAQ,SAASd,GAAoB,OAAOI,EAAlBH,EAAEI,GAAG,GAAGL,IAAeA,IAAIa,EAAEA,EAAEC,QAAQd,EAAEC,EAAEC,EAAEC,GAAG,OAAOD,EAAEG,GAAGS,QAAQ,IAAI,IAAIL,EAAE,mBAAmBD,SAASA,QAAQH,EAAE,EAAEA,EAAEF,EAAEa,OAAOX,IAAID,EAAED,EAAEE,IAAI,OAAOD,GAA7b,EAAA,EAA6ca,GAAG,SAAST,EAAQU,EAAOJ,GACxe,IAAIK,EAAQC;;;;;GAiHZC,OAAOC,UAAUC,oCACfC,OAAQ,KACNL,EAAMM,IAAMC,SAASC,eAAe,mBAC/BR,EAAMM,IAAIG,aAAa,sBAE1BT,EAAMM,IAAII,aAAa,oBAAoB,GAC3CR,OAAOC,UAAUC,mCAAqC,UAhG1DO,YAAYC,GACVX,KAAKK,IAAMM,EAGXX,KAAKY,aAAeN,SAASC,eAAe,uCAC5CP,KAAKY,aAAaC,iBAAiB,SAAUC,IAC3Cd,KAAKe,eAAeD,EAAOd,QAI7BA,KAAKgB,iBACHC,IAAKjB,KAAKK,IAAIG,aAAa,sBAC3BU,OAAQlB,KAAKK,IAAIG,aAAa,YAAcR,KAAKK,IAAIG,aAAa,YAAc,KAEhFR,KAAKmB,eAAiBC,KAAKC,MAAMD,KAAKE,UAAUtB,KAAKgB,kBAIvDhB,KAAKuB,QAAUH,KAAKC,MAAMrB,KAAKK,IAAIG,aAAa,aAIhDR,KAAKwB,OAASJ,KAAKC,MAAMrB,KAAKK,IAAIG,aAAa,iBAGjDE,eAAeI,EAAOW,GAEpB,MAAMC,EAAQZ,EAAMa,OAEdV,EAAMS,EAAME,MAAMC,OAAOC,oBAG3Bb,GAAOS,EAAMK,SAASC,OACxBN,EAAMO,UAAUC,OAAO,SACvBT,EAAKU,WAAWlB,IACPA,GACTS,EAAMO,UAAUG,IAAI,SAIxB1B,WAAW2B,GACTrC,KAAKmB,eAAeF,IAAMoB,EACtBrC,KAAKsC,YAAYD,GACnBrC,KAAKmB,eAAeD,OAAS,IAE7BlB,KAAKmB,eAAeD,OAAS,IAE/BlB,KAAKY,aAAagB,MAAQS,EAC1BrC,KAAKuC,oBAGP7B,oBACEJ,SAASC,eAAe,2BAA2BiC,YAAcxC,KAAKmB,eAAeF,IACrFX,SAASC,eAAe,2BAA2BiC,YAAcxC,KAAKuB,QAAQkB,SAASzC,KAAKmB,eAAeD,OAAQ,KAGnHlB,KAAKK,IAAI4B,UAAUS,QAAQC,KACe,IAApC3C,KAAKwB,OAAOoB,QAAQD,IACtB3C,KAAKK,IAAI4B,UAAUC,OAAOS,KAG9B3C,KAAKK,IAAI4B,UAAUG,IAAIpC,KAAKwB,OAAOxB,KAAKmB,eAAeD,SAGvDZ,SAASC,eAAe,mBAAmBsC,MAAMC,QAAyC,MAA/B9C,KAAKmB,eAAeD,OAAiB,OAAS,eAG3GR,qBACE,OAAOV,KAAKgB,gBAAgBC,KAAuC,MAAhCjB,KAAKgB,gBAAgBE,OAG1DR,kBAAkB2B,GACXrC,KAAKmB,eAAeF,MACvBjB,KAAKmB,eAAeF,IAAMoB,EAC1BrC,KAAKuC,qBAIT7B,YAAY2B,GACV,OAAOA,IAAYrC,KAAKgB,gBAAgBC,KAAuC,MAAhCjB,KAAKgB,gBAAgBE,SAiBMnB,EAAMM,aAK9E0C,GAAG,SAAS3D,EAAQU,EAAOJ,GAiLjCO,OAAO+C,MAAMC,QAAU,EAACC,EAASC,EAAO,YACtC,IAAIC,uDAA2DD,wBAG/D,OAFAC,kCAAsCD,EAAKE,OAAO,GAAGC,gBAAgBH,EAAKI,MAAM,kBAChFH,MAAUF,kBAOZM,OAAO3C,iBAAiB,YAAa,KACnC2C,OAAOC,WAAWC,cAChBC,gBAAgB,EAChBC,UAAWC,eAAeC,SAASC,QAAQC,GAC3CC,IAAK,CAACC,EAAMC,EAAU,QACpBlE,OAAOC,UAAUkE,wBAA0B;;;;;;MAtL/C1D,YAAYwD,EAAMC,GAChBnE,KAAKkE,KAAOA,EACZlE,KAAKqC,QAAU8B,EAAQE,cACvBrE,KAAKsE,IAAMT,eAAeU,sBAC1BvE,KAAKwE,aAAeX,eAAeC,SAASU,aAE5CxE,KAAKyE,SAAW,KAGhBzE,KAAKiD,QAAU3C,SAASC,eAAe,aACvCP,KAAK0E,OAASpE,SAASC,eAAe,mBAAmBoE,qBAAqB,UAAU,GAExF3E,KAAK0E,OAAO7D,iBAAiB,QAAShC,IACpCmB,KAAK4E,qBAAqB/F,KAI5BmB,KAAK6E,SAAW,IAAIX,EAAKY,IAAIC,SAASlB,eAAeC,SAASkB,UAAUC,gBAAgBC,cAAerB,eAAeC,SAASkB,UAAUC,gBAAgB5C,SACzJrC,KAAKmF,mBAGAlF,OAAOC,UAAUC,mCAAmCiF,uBACvDnF,OAAOC,UAAUC,mCAAmCgC,WAAWnC,KAAKqC,SACpErC,KAAKqF,eAUT3E,2BAA2BI,GACzBA,EAAMwE,iBACN,IAAIC,GAAe,EAEnB,IACOvF,KAAKyE,gBACFzE,KAAKqF,cAEb,MAAMG,QAAmBxF,KAAKyF,0BAC1BD,EACFxF,KAAK0F,iBAAiBF,SAGhBxF,KAAK6E,SAASc,QAAQC,aAAa5F,KAAKyE,YAAYoB,MAAOC,KAAM9F,KAAKqC,UAAW0D,GAAG,kBAAmBC,IAC3G,MAAM5C,yCAA6C4C,wLAGnDhG,KAAKiD,QAAQgD,WAAahG,OAAO+C,MAAM,UAAWI,GAClDpD,KAAK0E,OAAOxC,SACZlC,KAAKkG,gBAAkBF,IACtBD,GAAG,UAAWI,IACfnG,KAAKmG,QAAUA,EACfnG,KAAK0F,iBAAiBS,EAAQD,mBAGlC,MAAOE,GAEP,GADAb,EAAea,EAAInD,QAAQoD,SAAS,sBAElCrG,KAAKiD,QAAQgD,WAAahG,OAAO+C,MAAM,UAAW,+BAAgC,aAC7E,CACL,MAAMI,WAAegD,EAAInD,gBACzBjD,KAAKiD,QAAQgD,WAAahG,OAAO+C,MAAM,UAAWI,EAAK,SAEzDI,OAAO8C,QAAQC,MAAMH,IAOzB1F,yBACE,MAAM8F,QAAyBxG,KAAK6E,SAASc,QAAQc,iBAAiB9G,OAEtE,GAAI6G,OAEG,CACL,MAAMpD,+CAAmDpD,KAAKsE,IAAIoC,kBAClE1G,KAAKiD,QAAQgD,WAAahG,OAAO+C,MAAM,UAAWI,EAAK,SAEzDpD,KAAKwG,iBAAmBA,EAM1B9F,oBACE,MAAMiG,KAAS3G,KAAKsE,IAAIsC,iBAAmB5G,KAAKqC,2BAA0B,IAAIwE,MAAOC,YAC/EC,QAAiBC,MAAML,GAAOM,OAAQ,MAAOC,YAAa,gBAChE,IAAKH,EAASI,GAAI,CAChB,MAAM/D,EAAM,4FACZpD,KAAKiD,QAAQgD,WAAahG,OAAO+C,MAAM,UAAWI,EAAK,SAEzD,MAAMqB,QAAiBsC,EAASK,OAChCpH,KAAKyE,SAAWA,EAASuB,KAS3BtF,gCACE,IAAI2G,EAAM,KACV,MAAMC,QAA6BtH,KAAKkE,KAAKY,IAAIyC,aAC/CC,UAAW,MACXnF,QAASwB,eAAeC,SAASkB,UAAUC,gBAAgB5C,QAC3DoF,QAEAzH,KAAKkE,KAAKwD,MAAMC,KAAK,gEAEQ3H,KAAKqC,QAAQkB,MAAM,QASlD,OAPI+D,EAAqB1H,QACvB0H,EAAqB5E,QAAQkF,IACvBA,EAAGC,YAAc7H,KAAKyE,aACxB4C,EAAMO,EAAG1B,mBAIRmB,EAYT3G,uBAAuBoH,GAErB,MAAMnB,KAAS3G,KAAKwE,aAAesD,qBAAyB,IAAIjB,MAAOC,YACjEC,QAAiBC,MAAML,GAAOM,OAAQ,MAAOC,YAAa,gBAEhE,IAAKH,EAASI,GAAI,CAChB,MAAM/D,EAAM,8BACZpD,KAAKiD,QAAQgD,WAAahG,OAAO+C,MAAM,UAAWI,EAAK,SAEzD,MAAM2E,QAAehB,EAASK,OAMxBY,EAAaD,EAAO9C,gBAAgBgD,eAAe,GAAG1B,MAAQ,QAAU,SAC9EvG,KAAKiD,QAAQgD,UAAYhG,OAAO+C,MAAM,UAAW+E,EAAO9C,gBAAgBgD,eAAe,GAAGhF,QAAS+E,GAC9FD,EAAO9C,gBAAgBgD,eAAe,GAAG1B,QA8BiBrC,EAAMC,kBAK9D,EAAE"}